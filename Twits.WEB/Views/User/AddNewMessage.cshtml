@model Twits.WEB.Models.NewMessage

<script>       
    function count()
    {
        var i = 140 - $("#messageText").val().length;
        $("#symbolsCount").text(i);
    }
</script>

@using (@Ajax.BeginForm(
    "AddNewMessage", "User", 
    new AjaxOptions {
    HttpMethod = "Post",
    InsertionMode = InsertionMode.Replace,
    UpdateTargetId = "showContent"
}))
{
    @Html.LabelFor(m=>m.Text, "Текст сообщения:")
    @Html.TextAreaFor(m=>m.Text, new { id = "messageText", onkeyup = "count();", maxlength=140 })
    @Html.ValidationMessageFor(m=>m.Text)

    @Html.Label("140", new { id="symbolsCount"})

    <br />

    <input type="submit" />
}
